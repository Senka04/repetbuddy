{% extends 'page1/base.html' %}
{% block title %}
repetbuddy.ru
{% endblock %}


{% block styles %}
<!--пастельные цвета для карточек-->
<style>
.pastel-1 {
    background-color: rgba(255, 255, 224, 0.8);
}

.pastel-2 {
    background-color: rgba(173, 216, 230, 0.5);
}

.pastel-3 {
    background-color: rgba(221, 160, 221, 0.5);
}

.pastel-4 {
    background-color: rgba(144, 238, 144, 0.5);
}

.pastel-5 {
    background-color: rgba(154, 205, 50, 0.5);
}

.pastel-6 {
    background-color: rgba(255, 182, 193, 0.5);
}

</style>
<!--пространство между ссылочками наверху-->
<style>
.space {
    margin-right: 100px !important;
}
</style>
<!--отображение карточек, webkit и scrollbar-width скрывают полосу прокрутки в разных браузерах-->
<style>
.card::-webkit-scrollbar {
    display: none;
}
.card {
    position: relative;
    height: 300px;
    overflow: auto;
    scrollbar-width: none;
}
.card-img-top {
    width: 40%;
    margin: 0 auto;
}
.fa-arrows-up-down {
    color: #0c233c;
    position: absolute;
    top: 5px;
    left: 5px;
    opacity: 30%;
    transition: all 0.2s ease-in-out;
}
.fa-arrows-up-down:hover {
    opacity: 60%;
}
.fa-arrows-up-down:hover::after {
    content: "можно листать";
    color: #0c233c;
    position: absolute;
    top: -1px;
    left: 100%;
    margin-left: 2px;
    font-family: 'sans-serif-pro', sans-serif;
    white-space: nowrap;
}

</style>

{% endblock %}

{% block content %}

<div class="container-fluid d-flex justify-content-center">
    <ul class="list-inline d-inline-block mb-0 text-nowrap">
        <li class="list-inline-item space"><a href="/it-courses" class="text-dark link-footer">IT-курсы</a></li>
        <li class="list-inline-item space"><a href="/marketing" class="text-dark link-footer">Маркетинг</a></li>
        <li class="list-inline-item space"><a href="/design" class="text-dark link-footer">Дизайн</a></li>
        <li class="list-inline-item space"><a href="/finance" class="text-dark link-footer">Финансы</a></li>
        <li class="list-inline-item"><a href="/analytics" class="text-dark link-footer">Аналитика</a></li>
    </ul>
</div>
<br>
<br>
<div class="container-fluid">
    {% for card in cards %}
    {% if forloop.counter0|divisibleby:5 %}
    <div class="row">
        {% endif %}
        <div class="{% cycle 'col-sm-6' 'col-sm-6' 'col-sm-4' 'col-sm-4' 'col-sm-4' %}">
            <div class="card {% if not card.image %}no-image{% endif %} mb-3 {% cycle 'pastel-1' 'pastel-2' 'pastel-3' 'pastel-4' 'pastel-5' 'pastel-6' %}">
                {% if card.image %}
                <img src="{{ card.image.url }}" class="card-img-top text-center my-3 rounded" alt="{{ card.name }}">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ card.name }}</h5>
                    {% if card.description %}
                    <p class="card-text">{{ card.description }}</p>
                    {% endif %}
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:5 or forloop.last %}
    </div>
    {% endif %}
    {% endfor %}
</div>

{% endblock %}

{% block scripts %}
<script>
let cardTexts = document.querySelectorAll('.card');

for (let cardText of cardTexts) {
    if (cardText.scrollHeight > cardText.clientHeight) {
        let icon = document.createElement('i');
        icon.className = 'fa-solid fa-arrows-up-down';
        cardText.appendChild(icon);
    }
}

</script>

{% endblock %}